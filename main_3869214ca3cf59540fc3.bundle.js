(()=>{"use strict";var e={402:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(81),r=i.n(n),s=i(645),a=i.n(s)()(r());a.push([e.id,"* {\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody, html {\r\n    min-height: 100vh;\r\n    width: 100%;\r\n    background: #f0f0f0;\r\n    font-family: monospace;\r\n}\r\n\r\n.wrapper {\r\n    min-height: 100vh;\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.gameBar {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    gap: 100px;\r\n}\r\n\r\n.gameBar .timer, .gameBar .movies {\r\n    font-size: 18px;\r\n}\r\n\r\n.field {\r\n    position: relative;\r\n}\r\n\r\n.palete {\r\n    position: absolute;\r\n    display: grid;\r\n    place-items: center;\r\n    background: rgb(247, 211, 32);\r\n    font-size: 1.5rem;\r\n    border-radius: 5px;\r\n    user-select: none;\r\n    cursor: pointer;\r\n\r\n    transition-property: top, left;\r\n    transition-duration: 0.1s;\r\n}",""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var h=[].concat(e[d]);n&&a[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var s={},a=[],o=0;o<e.length;o++){var l=e[o],d=n.base?l[0]+n.base:l[0],h=s[d]||0,c="".concat(d," ").concat(h);s[d]=h+1;var u=i(c),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var p=r(m,n);n.byIndex=o,t.splice(o,0,{identifier:c,updater:p,references:1})}a.push(c)}return a}function r(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,r){var s=n(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var o=i(s[a]);t[o].references--}for(var l=n(e,r),d=0;d<s.length;d++){var h=i(s[d]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}s=l}}},569:e=>{var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={id:n,exports:{}};return e[n](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0,(()=>{class e{constructor(){this.size=null,this.field=null,this.answer=null}init(e=5){this.size=e,this.generateRandomField(),this.generateCorrectAnswer()}generateRandomField(){this.field=[];let e=[];for(let t=0;t<this.size**2;++t)e[t]=t;e=(e=>{let t=null,i=null,n=e.length;if(n)for(;--n;)i=Math.floor(Math.random()*(n+1)),t=e[i],e[i]=e[n],e[n]=t;return e})(e);for(let t=0;t<this.size;++t){const i=[];for(let t=0;t<this.size;++t)i[t]=e[this.size*this.field.length+i.length];this.field[t]=i}}generateCorrectAnswer(){this.answer=[];let e=1;for(let t=0;t<this.size;++t){const i=[];for(let t=0;t<this.size;++t)i[t]=e++;this.answer[t]=i}this.answer[this.size-1][this.size-1]=0}move({row:e,col:t}){return e>0&&0==this.field[e-1][t]?(this.moveSide(e,t,-1,0),{row:e,col:t,direction:0}):t<this.field[e].length-1&&0==this.field[e][t+1]?(this.moveSide(e,t,0,1),{row:e,col:t,direction:1}):e<this.field.length-1&&0==this.field[e+1][t]?(this.moveSide(e,t,1,0),{row:e,col:t,direction:2}):t>0&&0==this.field[e][t-1]?(this.moveSide(e,t,0,-1),{row:e,col:t,direction:3}):null}moveSide(e,t,i,n){this.field[e][t]^=this.field[e+i][t+n],this.field[e+i][t+n]^=this.field[e][t],this.field[e][t]^=this.field[e+i][t+n]}}class t{constructor(){this.scheme=null,this.field=null,this.paleteSize=70,this.padding=5}init(e){this.scheme=e,this.createField(),this.render()}createField(){this.field=document.createElement("div"),this.field.className="field",this.updateFieldSize(),document.querySelector(".wrapper").appendChild(this.field)}updateFieldSize(){this.setStyles(this.field,{width:this.scheme.length*this.paleteSize+(this.scheme.length+1)*this.padding+"px",height:this.scheme.length*this.paleteSize+(this.scheme.length+1)*this.padding+"px"})}render(){this.field.innerHTML="",this.scheme.forEach(((e,t)=>{e.forEach(((e,i)=>{if(0!=e){const n=document.createElement("div");n.className="palete",n.textContent=e,this.setPaleteAttributes(n,t,i),this.field.appendChild(n)}}))}))}animate({row:e,col:t,direction:i}){const n=this.field.querySelector(`#id${e}_${t}`);switch(i){case 0:this.topAnimation(n,e,t);break;case 1:this.rightAnimation(n,e,t);break;case 2:this.downAnimation(n,e,t);break;case 3:this.leftAnimation(n,e,t)}}topAnimation(e,t,i){this.setPaleteAttributes(e,t-1,i)}rightAnimation(e,t,i){this.setPaleteAttributes(e,t,i+1)}downAnimation(e,t,i){this.setPaleteAttributes(e,t+1,i)}leftAnimation(e,t,i){this.setPaleteAttributes(e,t,i-1)}setScheme(e){this.scheme=e,this.updateFieldSize()}setStyles(e,t){for(const i in t)e.style[i]=t[i]}setPaleteAttributes(e,t,i){e.id=`id${t}_${i}`,e.setAttribute("data-row",t),e.setAttribute("data-col",i),this.setStyles(e,{width:this.paleteSize+"px",height:this.paleteSize+"px",top:t*this.paleteSize+(t+1)*this.padding+"px",left:i*this.paleteSize+(i+1)*this.padding+"px"})}}class n{constructor(){this.Model=new e,this.View=new t}init(){this.Model.init(),this.View.init(this.Model.field),this.movePaleteHandler()}setFieldSize(e){this.Model.init(e),this.View.setScheme(this.Model.field),this.View.render()}movePaleteHandler(){this.View.field.addEventListener("click",(async e=>{if(e.target.classList.contains("palete")){const t=this.Model.move({row:+e.target.dataset.row,col:+e.target.dataset.col});t&&(this.triggerPaleteMoveEvent(),this.View.animate(t))}}))}triggerPaleteMoveEvent(){document.body.dispatchEvent(new CustomEvent("paleteMove",{bubbles:!0}))}}class r{constructor(){this.time=null,this.movies=null}init(e=0,t=0){this.time=e,this.movies=t}timeIncrement(){return++this.time}moviesIncrement(){return++this.movies}}class s{constructor(){this.gameBar=null,this.timeField=null,this.moviesField=null}init(){this.createGameBar()}createGameBar(){this.gameBar=document.createElement("div"),this.gameBar.className="gameBar",document.querySelector(".wrapper").appendChild(this.gameBar),this.createTimeField(),this.createMoviesField()}createTimeField(){this.timeField=document.createElement("div"),this.timeField.className="timer",this.gameBar.appendChild(this.timeField),this.setTimerValue(0)}createMoviesField(){this.moviesField=document.createElement("div"),this.moviesField.className="movies",this.gameBar.appendChild(this.moviesField),this.setMoviesFieldValue(0)}setTimerValue(e){const t=Math.floor(e/60),i=e%60;this.timeField.textContent=`${Math.floor(t/10)}${t%10}:${Math.floor(i/10)}${i%10}`}setMoviesFieldValue(e){this.moviesField.textContent=`Movies: ${e}`}}class a{constructor(){this.Model=new r,this.View=new s}init(){this.Model.init(),this.View.init(),this.startTimer(),this.folowingMoveEvent()}folowingMoveEvent(){document.body.addEventListener("paleteMove",(()=>{this.View.setMoviesFieldValue(this.Model.moviesIncrement())}))}startTimer(){setInterval((()=>{this.View.setTimerValue(this.Model.timeIncrement())}),1e3)}}var o=i(379),l=i.n(o),d=i(795),h=i.n(d),c=i(569),u=i.n(c),m=i(565),p=i.n(m),f=i(216),v=i.n(f),g=i(589),w=i.n(g),y=i(402),b={};b.styleTagTransform=w(),b.setAttributes=p(),b.insert=u().bind(null,"head"),b.domAPI=h(),b.insertStyleElement=v(),l()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals,(new class{constructor(){this.Field=null,this.GameBar=null}init(){this.GameBar=new a,this.Field=new n,this.GameBar.init(),this.Field.init()}}).init()})()})();